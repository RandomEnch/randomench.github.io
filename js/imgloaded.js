function getRandomImage(e){const t=Math.floor(300*Math.random())+100;return"pc"===e?`https://cdn.randench.cn/assets/pc/img${t}.webp`:"pe"===e?`https://cdn.randench.cn/assets/pe/img${t}.webp`:void 0}if("undefined"==typeof initLargeSrc&&(initLargeSrc=getRandomImage("pc")),"undefined"==typeof initSmallSrc&&(initSmallSrc=getRandomImage("pe")),"undefined"==typeof sideUrl&&(sideUrl=getRandomImage("pe")),!window.ProgressiveLoad){class e{constructor(e,t){this.smallSrc=e,this.largeSrc=t,this.initTpl(),this.initScrollListener()}initScrollListener(){const e=document.getElementById("page-header");e&&e.classList.contains("full_page")?(document.body.style.setProperty("--animate","true"),window.addEventListener("scroll",(()=>{var e=Math.min(window.scrollY/window.innerHeight,.7);this.container.style.setProperty("--process",e)}))):(document.body.style.setProperty("--animate","false"),this.container.style.setProperty("--process",.7))}initTpl(){this.container=document.createElement("div"),this.smallStage=document.createElement("div"),this.largeStage=document.createElement("div"),this.video=document.createElement("div"),this.smallImg=new Image,this.largeImg=new Image,this.container.className="pl-container",this.container.style.setProperty("--process",0),this.smallStage.className="pl-img pl-blur",this.largeStage.className="pl-img",this.video.className="pl-video",this.container.appendChild(this.smallStage),this.container.appendChild(this.largeStage),this.container.appendChild(this.video),this.smallImg.onload=this._onSmallLoaded.bind(this),this.largeImg.onload=this._onLargeLoaded.bind(this)}progressiveLoad(){this.smallImg.src=this.smallSrc,this.largeImg.src=this.largeSrc}_onLargeLoaded(){this.largeStage.classList.add("pl-visible"),this.largeStage.style.backgroundImage=`url('${this.largeSrc}')`}_onSmallLoaded(){this.smallStage.classList.add("pl-visible"),this.smallStage.style.backgroundImage=`url('${this.smallSrc}')`}}const t=(t,n)=>{const i=window.matchMedia("(max-width: 767px)").matches,a=new e(i?t.mobileSmallSrc:t.smallSrc,i?t.mobileLargeSrc:t.largeSrc);n.children.length>0?n.insertBefore(a.container,n.children[0]):n.appendChild(a.container),a.progressiveLoad()},n={smallSrc:"https://cdn.randench.cn/image/24/08/dc7921fe3964beb2.webp",largeSrc:initLargeSrc,mobileSmallSrc:"https://cdn.randench.cn/image/24/08/77d99e62056e5759.png",mobileLargeSrc:initSmallSrc,enableRoutes:["/"]};function setRandomBackground(e){e&&(e.style.backgroundImage=`url('${sideUrl}')`,e.style.backgroundSize="cover",e.style.backgroundPosition="center")}function initBackground(){const e=document.querySelector("#aside-content > .card-widget.card-info");e&&setRandomBackground(e)}function initProgressiveLoad(e){const n=document.querySelector(".pl-container");n&&n.remove();const i=document.getElementById("web-header");i&&i.classList.contains("full_page")&&t(e,i),initBackground()}function onPJAXComplete(e){const t=document.getElementById("web-header");t&&t.classList.contains("full_page")&&initProgressiveLoad(e)}document.addEventListener("DOMContentLoaded",(function(){initProgressiveLoad(n)})),document.addEventListener("pjax:complete",(function(){initProgressiveLoad(n)}))}